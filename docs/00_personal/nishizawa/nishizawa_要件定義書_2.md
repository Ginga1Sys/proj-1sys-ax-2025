# 要件定義書

## 1. ドキュメント情報
| 項目 | 内容 |
| --- | --- |
| ドキュメント名 | AI活用ナレッジ共有サイト 要件定義書 |
| バージョン | 1.0 |
| 作成日 | 2025/11/20 |
| 作成者 | ニシザワ |
| 承認者 | ニシザワ |

## 2. 背景と目的
### 背景（現状／課題）
- 社内でのAI活用に関する情報が散在しており、必要な情報を迅速に取得できない。
- AI活用事例の共有が不十分で、ナレッジの蓄積が進んでいない。
- 既存手段では情報の投稿や編集が煩雑で、社員の積極的な共有を阻害している。
- 検索機能が弱く、目的の情報へ到達するのに時間がかかる。
- セキュリティ管理が不十分で、機密情報の漏洩リスクがある。

### 目的
- **ナレッジの一元化**: 社内のAI活用情報を集約し、検索可能な状態にする。
- **業務効率化**: 必要な情報を迅速に取得できる環境を構築し、調査時間を短縮する。
- **共有文化の醸成**: 投稿・編集のハードルを下げ、社員間のナレッジ共有（1日50〜100アクセス）を活性化させる。
- **セキュリティ確保**: 適切なアクセス制御により、機密情報の安全性を担保する。

## 3. スコープ
### 含む項目（In Scope）
- **機能**: ユーザー認証、ナレッジ投稿・編集・履歴管理、検索（キーワード・タグ）、インタラクション（イイね・コメント）、管理者による承認。
- **データ**: ユーザー情報、ナレッジ記事（テキスト・画像・添付ファイル）、コメント、評価データ。
- **環境**: Dockerコンテナによる開発環境。

### 除外項目（Out of Scope）
- 管理者向けダッシュボード（サイト運営分析用）。
- AIトレンド情報の自動更新機能。
- モバイル専用レスポンシブデザイン（PCブラウザメイン）。
- 多言語対応。
- 高度なアクセス解析機能。
- 本番環境（AWS）へのデプロイ（今回は設計考慮のみ）。

## 4. ステークホルダー
| 役割 | ペルソナ／担当 | 責任・関与 |
| --- | --- | --- |
| 利用者（一般社員） | 全社員（約600名） | ナレッジの閲覧、投稿、コメント、評価を行う。 |
| 利用者（管理者） | システム管理者／リーダー層 | 投稿内容の確認・承認・却下、ユーザー権限管理を行う。 |
| 開発チーム | 開発担当者 | 設計、実装、テスト、Docker環境構築を行う。 |
| インフラ担当 | （将来的なAWS担当） | 本番環境設計（今回は考慮のみ）。 |

## 5. 用語定義
- **ナレッジ**: ユーザーが投稿するAI活用に関する記事（タイトル、本文、添付ファイル等）。
- **イイね**: 投稿に対する肯定的な評価アクション。
- **タグ**: 記事を分類するためのキーワード。

## 6. 主要機能（機能要件）

### F-01: ユーザー認証・管理
- **概要**: 独自のID/パスワードによる認証とアカウント管理。
- **ユーザーストーリー**: 社員として、自分のアカウントでログインし、安全にシステムを利用したい。
- **受入基準**:
    - 社内ドメインのメールアドレスで新規登録できること。
    - ログイン、ログアウトができること。
    - パスワードリセットができること。
- **優先度**: MUST

### F-02: ナレッジ投稿・編集
- **概要**: 記事の作成、編集、削除、履歴管理、および承認フロー。
- **ユーザーストーリー**: 社員として、自分の知見を共有するために、画像やファイルを含む記事を投稿したい。また、管理者は不適切な投稿を防ぐために承認を行いたい。
- **受入基準**:
    - テキスト、画像、ファイル添付を含む投稿ができること。
    - 投稿時にタグ付けができること。
    - 編集履歴が保存され、確認できること。
    - 管理者が投稿を承認・却下できること。
- **優先度**: MUST

### F-03: 検索・閲覧
- **概要**: 蓄積されたナレッジの検索と詳細表示。
- **ユーザーストーリー**: 社員として、業務に必要なAI活用事例を探すために、キーワードやタグで情報を検索したい。
- **受入基準**:
    - タイトル、本文、タグ、投稿者名でキーワード検索ができること。
    - タグによる絞り込みができること。
    - 検索結果から詳細画面へ遷移できること。
- **優先度**: MUST

### F-04: インタラクション
- **概要**: 記事に対する評価とコメント。
- **ユーザーストーリー**: 社員として、有用な記事に感謝を示したり、不明点を質問したりしたい。
- **受入基準**:
    - 記事に対して「イイね」ができること。
    - 記事に対してコメントができ、コメントへの返信もできること。
- **優先度**: MUST

## 7. 非機能要件
- **パフォーマンス**:
    - 画面応答時間：3秒以内（目標）。
    - 同時アクセス数：100件で安定稼働。
- **可用性**:
    - 稼働率99.9%以上（目標）。
    - 障害時の迅速な復旧体制。
- **セキュリティ**:
    - 通信の暗号化（SSL/TLS）。
    - パスワードのハッシュ化保存。
    - ユーザーごとのアクセス権限設定（一般／管理者）。
- **保守性・拡張性**:
    - Dockerコンテナによる環境統一。
    - 将来的なAWS移行、機能追加（モジュール化）を考慮した設計。
- **運用**:
    - 操作ログの記録と保存（監査対応）。

## 8. データ要件
- **主なエンティティ**:
    - `Users`: ユーザーID, 名前, メール, パスワードハッシュ, 権限ロール
    - `Articles`: 記事ID, タイトル, 本文, 投稿者ID, ステータス(承認待ち/公開/却下), 作成日時, 更新日時
    - `ArticleHistory`: 履歴ID, 記事ID, 変更内容, 変更日時
    - `Tags`: タグID, タグ名
    - `Comments`: コメントID, 記事ID, ユーザーID, 本文, 親コメントID
    - `Likes`: 記事ID, ユーザーID
- **保持ポリシー**: ログデータは一定期間（例：1年）保存。

## 9. UI／UX要件
- **主要画面**:
    - ログイン／登録画面
    - ナレッジ一覧（検索・フィルタ付き）
    - ナレッジ詳細（本文、コメント、イイね表示）
    - 投稿・編集画面（リッチテキストエディタ想定）
    - マイページ／管理画面
- **ユーザビリティ**: シンプルで直感的な操作性。

## 10. API要件
- **アーキテクチャ**: RESTful API
- **認証**: JWT (JSON Web Token) を想定。
- **主要エンドポイント**:
    - `POST /api/auth/login`
    - `GET /api/articles` (検索クエリ対応)
    - `POST /api/articles`
    - `POST /api/articles/{id}/comments`

## 11. AI利用に関する要件
*本システムは「AIに関するナレッジ」を共有するものであり、現段階のスコープではシステム自体にAI機能（自動要約、レコメンド等）は実装しない。*
- **将来的な拡張性**: 蓄積されたナレッジデータをAIモデルの学習やRAG（検索拡張生成）に利用できるよう、データ構造を整備しておく。

## 12. 受入基準とテスト
- **テストフェーズ**: 単体テスト、結合テスト、システムテスト。
- **合格基準**:
    - 全てのMUST要件が実装され、正常に動作すること。
    - セキュリティ要件（認証、権限）が満たされていること。
    - 応答時間が目標値（3秒）を超えないこと。

## 13. 移行・リリース計画
- **開発環境**: Docker Composeにて構築。
- **リリース**: 今回は疑似プロジェクトのため、ローカル環境または検証環境での動作確認をもって完了とする。
- **将来構想**: AWS（ECS/Fargate, RDS等）へのデプロイ、CI/CDパイプラインの構築。

## 14. 運用・監視・保守
- **ログ**: アプリケーションログ、アクセスログを出力。
- **バックアップ**: データベースの定期バックアップ（将来的な運用設計）。

## 15. リスクと対策
- **情報漏洩**: 認証・認可の実装不備による漏洩 → フレームワーク標準のセキュリティ機構を利用し、コードレビューを徹底する。
- **データ損失**: DB障害 → Dockerボリュームの永続化設定、バックアップ手順の確立。

## 16. スケジュールとマイルストーン
1. **要件定義**: 2025/11/20 完了予定
2. **基本・詳細設計**: 2025/11/E 完了予定
3. **実装**: 2025/12/M 完了予定
4. **テスト**: 2025/12/E 完了予定

## 17. 成果物と承認
- 要件定義書（本書）
- 基本設計書（ER図、画面遷移図、API仕様書）
- ソースコード
- テスト仕様書・報告書

## 18. 変更管理
- 要件変更が発生した場合は、変更内容と影響範囲を文書化し、承認者の合意を得てから反映する。

## 19. 参考資料
- 03_顧客要求// filepath: docs/00_personal/nishizawa/nishizawa_要件定義書_2.md
# 要件定義書

## 1. ドキュメント情報
| 項目 | 内容 |
| --- | --- |
| ドキュメント名 | AI活用ナレッジ共有サイト 要件定義書 |
| バージョン | 1.0 |
| 作成日 | 2025/11/20 |
| 作成者 | ニシザワ |
| 承認者 | ニシザワ |

## 2. 背景と目的
### 背景（現状／課題）
- 社内でのAI活用に関する情報が散在しており、必要な情報を迅速に取得できない。
- AI活用事例の共有が不十分で、ナレッジの蓄積が進んでいない。
- 既存手段では情報の投稿や編集が煩雑で、社員の積極的な共有を阻害している。
- 検索機能が弱く、目的の情報へ到達するのに時間がかかる。
- セキュリティ管理が不十分で、機密情報の漏洩リスクがある。

### 目的
- **ナレッジの一元化**: 社内のAI活用情報を集約し、検索可能な状態にする。
- **業務効率化**: 必要な情報を迅速に取得できる環境を構築し、調査時間を短縮する。
- **共有文化の醸成**: 投稿・編集のハードルを下げ、社員間のナレッジ共有（1日50〜100アクセス）を活性化させる。
- **セキュリティ確保**: 適切なアクセス制御により、機密情報の安全性を担保する。

## 3. スコープ
### 含む項目（In Scope）
- **機能**: ユーザー認証、ナレッジ投稿・編集・履歴管理、検索（キーワード・タグ）、インタラクション（イイね・コメント）、管理者による承認。
- **データ**: ユーザー情報、ナレッジ記事（テキスト・画像・添付ファイル）、コメント、評価データ。
- **環境**: Dockerコンテナによる開発環境。

### 除外項目（Out of Scope）
- 管理者向けダッシュボード（サイト運営分析用）。
- AIトレンド情報の自動更新機能。
- モバイル専用レスポンシブデザイン（PCブラウザメイン）。
- 多言語対応。
- 高度なアクセス解析機能。
- 本番環境（AWS）へのデプロイ（今回は設計考慮のみ）。

## 4. ステークホルダー
| 役割 | ペルソナ／担当 | 責任・関与 |
| --- | --- | --- |
| 利用者（一般社員） | 全社員（約600名） | ナレッジの閲覧、投稿、コメント、評価を行う。 |
| 利用者（管理者） | システム管理者／リーダー層 | 投稿内容の確認・承認・却下、ユーザー権限管理を行う。 |
| 開発チーム | 開発担当者 | 設計、実装、テスト、Docker環境構築を行う。 |
| インフラ担当 | （将来的なAWS担当） | 本番環境設計（今回は考慮のみ）。 |

## 5. 用語定義
- **ナレッジ**: ユーザーが投稿するAI活用に関する記事（タイトル、本文、添付ファイル等）。
- **イイね**: 投稿に対する肯定的な評価アクション。
- **タグ**: 記事を分類するためのキーワード。

## 6. 主要機能（機能要件）

### F-01: ユーザー認証・管理
- **概要**: 独自のID/パスワードによる認証とアカウント管理。
- **ユーザーストーリー**: 社員として、自分のアカウントでログインし、安全にシステムを利用したい。
- **受入基準**:
    - 社内ドメインのメールアドレスで新規登録できること。
    - ログイン、ログアウトができること。
    - パスワードリセットができること。
- **優先度**: MUST

### F-02: ナレッジ投稿・編集
- **概要**: 記事の作成、編集、削除、履歴管理、および承認フロー。
- **ユーザーストーリー**: 社員として、自分の知見を共有するために、画像やファイルを含む記事を投稿したい。また、管理者は不適切な投稿を防ぐために承認を行いたい。
- **受入基準**:
    - テキスト、画像、ファイル添付を含む投稿ができること。
    - 投稿時にタグ付けができること。
    - 編集履歴が保存され、確認できること。
    - 管理者が投稿を承認・却下できること。
- **優先度**: MUST

### F-03: 検索・閲覧
- **概要**: 蓄積されたナレッジの検索と詳細表示。
- **ユーザーストーリー**: 社員として、業務に必要なAI活用事例を探すために、キーワードやタグで情報を検索したい。
- **受入基準**:
    - タイトル、本文、タグ、投稿者名でキーワード検索ができること。
    - タグによる絞り込みができること。
    - 検索結果から詳細画面へ遷移できること。
- **優先度**: MUST

### F-04: インタラクション
- **概要**: 記事に対する評価とコメント。
- **ユーザーストーリー**: 社員として、有用な記事に感謝を示したり、不明点を質問したりしたい。
- **受入基準**:
    - 記事に対して「イイね」ができること。
    - 記事に対してコメントができ、コメントへの返信もできること。
- **優先度**: MUST

## 7. 非機能要件
- **パフォーマンス**:
    - 画面応答時間：3秒以内（目標）。
    - 同時アクセス数：100件で安定稼働。
- **可用性**:
    - 稼働率99.9%以上（目標）。
    - 障害時の迅速な復旧体制。
- **セキュリティ**:
    - 通信の暗号化（SSL/TLS）。
    - パスワードのハッシュ化保存。
    - ユーザーごとのアクセス権限設定（一般／管理者）。
- **保守性・拡張性**:
    - Dockerコンテナによる環境統一。
    - 将来的なAWS移行、機能追加（モジュール化）を考慮した設計。
- **運用**:
    - 操作ログの記録と保存（監査対応）。

## 8. データ要件
- **主なエンティティ**:
    - `Users`: ユーザーID, 名前, メール, パスワードハッシュ, 権限ロール
    - `Articles`: 記事ID, タイトル, 本文, 投稿者ID, ステータス(承認待ち/公開/却下), 作成日時, 更新日時
    - `ArticleHistory`: 履歴ID, 記事ID, 変更内容, 変更日時
    - `Tags`: タグID, タグ名
    - `Comments`: コメントID, 記事ID, ユーザーID, 本文, 親コメントID
    - `Likes`: 記事ID, ユーザーID
- **保持ポリシー**: ログデータは一定期間（例：1年）保存。

## 9. UI／UX要件
- **主要画面**:
    - ログイン／登録画面
    - ナレッジ一覧（検索・フィルタ付き）
    - ナレッジ詳細（本文、コメント、イイね表示）
    - 投稿・編集画面（リッチテキストエディタ想定）
    - マイページ／管理画面
- **ユーザビリティ**: シンプルで直感的な操作性。

## 10. API要件
- **アーキテクチャ**: RESTful API
- **認証**: JWT (JSON Web Token) を想定。
- **主要エンドポイント**:
    - `POST /api/auth/login`
    - `GET /api/articles` (検索クエリ対応)
    - `POST /api/articles`
    - `POST /api/articles/{id}/comments`

## 11. AI利用に関する要件
*本システムは「AIに関するナレッジ」を共有するものであり、現段階のスコープではシステム自体にAI機能（自動要約、レコメンド等）は実装しない。*
- **将来的な拡張性**: 蓄積されたナレッジデータをAIモデルの学習やRAG（検索拡張生成）に利用できるよう、データ構造を整備しておく。

## 12. 受入基準とテスト
- **テストフェーズ**: 単体テスト、結合テスト、システムテスト。
- **合格基準**:
    - 全てのMUST要件が実装され、正常に動作すること。
    - セキュリティ要件（認証、権限）が満たされていること。
    - 応答時間が目標値（3秒）を超えないこと。

## 13. 移行・リリース計画
- **開発環境**: Docker Composeにて構築。
- **リリース**: 今回は疑似プロジェクトのため、ローカル環境または検証環境での動作確認をもって完了とする。
- **将来構想**: AWS（ECS/Fargate, RDS等）へのデプロイ、CI/CDパイプラインの構築。

## 14. 運用・監視・保守
- **ログ**: アプリケーションログ、アクセスログを出力。
- **バックアップ**: データベースの定期バックアップ（将来的な運用設計）。

## 15. リスクと対策
- **情報漏洩**: 認証・認可の実装不備による漏洩 → フレームワーク標準のセキュリティ機構を利用し、コードレビューを徹底する。
- **データ損失**: DB障害 → Dockerボリュームの永続化設定、バックアップ手順の確立。

## 16. スケジュールとマイルストーン
1. **要件定義**: 2025/11/20 完了予定
2. **基本・詳細設計**: 2025/11/E 完了予定
3. **実装**: 2025/12/M 完了予定
4. **テスト**: 2025/12/E 完了予定

## 17. 成果物と承認
- 要件定義書（本書）
- 基本設計書（ER図、画面遷移図、API仕様書）
- ソースコード
- テスト仕様書・報告書

## 18. 変更管理
- 要件変更が発生した場合は、変更内容と影響範囲を文書化し、承認者の合意を得てから反映する。

## 19. 参考資料
- 03_顧客要求