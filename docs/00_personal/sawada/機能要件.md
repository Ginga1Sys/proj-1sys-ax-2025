# 機能要件

このドキュメントは `ユーザーストーリー（ナカムラ: 顧客要求事項を元に）` の内容から抽出した機能要件を整理したものです。各要件には識別子（ID）、概要、詳細（受け入れ基準）、および推奨優先度を記載しています。

---

## FR-001: ユーザー認証
- **概要**: 社内ドメインのメールアドレスでアカウント登録・ログインを行う。
- **受け入れ基準**:
  - 社内ドメインのメールアドレスで新規登録ができる。
  - メールによる確認または管理者承認を含む登録フローを持つ（運用ポリシーに従う）。
  - パスワードリセット機能が提供される。
  - 認証情報は安全に保管（ハッシュ化/ソルト）される。
- **優先度**: 高

## FR-002: 投稿（作成・編集）
- **概要**: テキスト／画像／リンク／ファイル添付を含む投稿を作成・編集できる。
- **受け入れ基準**:
  - 投稿作成フォームがあり、テキスト・画像・リンク・ファイル添付をサポートすること。
  - タグ付け・カテゴリー選択が可能で、投稿にタグが付与されること。
  - 編集履歴が保存され、履歴を参照できること。
  - 投稿のドラフト保存が可能（任意機能として実装可）。
- **優先度**: 高

## FR-003: 投稿承認ワークフロー
- **概要**: 管理者が投稿を確認して承認・却下できるワークフローを提供する。
- **受け入れ基準**:
  - 新規投稿に対して承認フローを適用できる（管理者が承認/却下可能）。
  - 承認・却下の履歴が記録されること。
- **優先度**: 中

## FR-004: 検索とフィルタ
- **概要**: キーワード、タグ、投稿者名などで投稿を検索・絞り込みできる。
- **受け入れ基準**:
  - タイトル、本文、タグ、投稿者名で検索可能であること。
  - タグによる絞り込みができること。
  - 検索結果は関連度順または日付順でソート可能であること。
- **優先度**: 高

## FR-005: インタラクション（いいね・コメント）
- **概要**: 投稿に対して「イイね！」やコメントができる機能を提供する。
- **受け入れ基準**:
  - 投稿に対して「イイね！」が可能で集計されること。
  - コメントを投稿でき、返信スレッドで会話が続けられること。
  - 不適切なコメントを報告する機能（モデレーションの入り口）を提供すること。
- **優先度**: 高

## FR-006: 権限管理
- **概要**: 管理者がユーザーにロールを割り当て、アクセス制御を行えるようにする。
- **受け入れ基準**:
  - 管理者がユーザーに対してロール（一般、編集者、管理者など）を割り当てられること。
  - 機密情報は権限に応じてアクセス制御されること。
- **優先度**: 中

---

---

### 備考・推奨
- **MVP 推奨スコープ**: `FR-001 (認証)`, `FR-002 (投稿)`, `FR-004 (検索)`, `FR-005 (基本インタラクション)`, セキュリティ対策（非機能） をまず優先して実装することを推奨します（ユーザーストーリー原文に基づく）。
- **次の作業**: 各要件に対してより具体的な受け入れ基準（例: API エンドポイント、データモデル、UI フロー）を詰める。優先度に基づく見積りとスプリント割当を実施してください。
